<template>
    <!-- CONFIRMATION PAGE   -->
    <template if:true={isConfirmation}>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <!--  SPINNER   -->
        <template if:true={spinner}>
            <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
        </template>
        <!--  SPINNER -->
        <div class="container">    
            <div class="slds-p-top_small">
                <div class="slds-text-align_center">
                    <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <ellipse cx="33" cy="52.5" rx="29" ry="4.5" fill="#CDE5F4"/>
                        <path d="M16.7287 15.6815C16.885 14.7124 17.7216 14 18.7032 14H58.6515C59.8832 14 60.8221 15.1025 60.626 16.3185L56.2712 43.3185C56.1148 44.2876 55.2783 45 54.2967 45H14.3484C13.1167 45 12.1778 43.8975 12.3739 42.6815L16.7287 15.6815Z" fill="white"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M15.7415 15.5223C15.9759 14.0686 17.2307 13 18.7032 13H58.6515C60.499 13 61.9074 14.6538 61.6132 16.4777L57.2584 43.4777C57.0239 44.9314 55.7691 46 54.2967 46H14.3484C12.5009 46 11.0925 44.3462 11.3866 42.5223L15.7415 15.5223ZM18.7032 15C18.2124 15 17.7941 15.3562 17.716 15.8408L13.3611 42.8408C13.2631 43.4487 13.7325 44 14.3484 44H54.2967C54.7875 44 55.2057 43.6438 55.2839 43.1592L59.6387 16.1592C59.7368 15.5513 59.2673 15 58.6515 15H18.7032Z" fill="#00619E"></path>
                        <path d="M33.1314 32.8694C33.8007 33.5295 34.8392 33.6344 35.627 33.1216L59.353 17.6761C61.0208 16.5904 60.252 14 58.2618 14H18.8758C17.0874 14 16.1981 16.168 17.4714 17.4239L33.1314 32.8694Z" fill="#CDE5F4"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M16.7693 18.1359C14.8593 16.2521 16.1932 13 18.8759 13H58.2619C61.2471 13 62.4004 16.8855 59.8986 18.5142L36.1726 33.9597C34.991 34.7289 33.4331 34.5715 32.4293 33.5814L16.7693 18.1359ZM18.8759 15C17.9817 15 17.537 16.084 18.1737 16.712L33.8337 32.1575C34.1683 32.4875 34.6876 32.54 35.0815 32.2836L58.8075 16.8381C59.6414 16.2952 59.257 15 58.2619 15H18.8759Z" fill="#00619E"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M31.8108 30.4145C32.1341 30.8622 32.0333 31.4873 31.5856 31.8107L13.5856 44.8107C13.1378 45.134 12.5128 45.0332 12.1894 44.5855C11.866 44.1378 11.9669 43.5127 12.4146 43.1893L30.4146 30.1893C30.8623 29.866 31.4874 29.9668 31.8108 30.4145Z" fill="#00619E"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M39.7689 29.3177C40.1458 28.9139 40.7786 28.8921 41.1823 29.2689L56.1823 43.2689C56.5861 43.6458 56.6079 44.2786 56.2311 44.6823C55.8542 45.0861 55.2214 45.1079 54.8177 44.7311L39.8177 30.7311C39.4139 30.3542 39.3921 29.7214 39.7689 29.3177Z" fill="#00619E"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M22 9C22 8.44772 22.4477 8 23 8H31C31.5523 8 32 8.44772 32 9C32 9.55228 31.5523 10 31 10H23C22.4477 10 22 9.55228 22 9Z" fill="#CDE5F4"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M3 15C3 14.4477 3.44772 14 4 14L13 14C13.5523 14 14 14.4477 14 15C14 15.5523 13.5523 16 13 16L4 16C3.44772 16 3 15.5523 3 15Z" fill="#CDE5F4"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M7 27C7 26.4477 7.44772 26 8 26L12 26C12.5523 26 13 26.4477 13 27C13 27.5523 12.5523 28 12 28L8 28C7.44772 28 7 27.5523 7 27Z" fill="#CDE5F4"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4 44C4 43.4477 4.44772 43 5 43L8 43C8.55228 43 9 43.4477 9 44C9 44.5523 8.55228 45 8 45L5 45C4.44772 45 4 44.5523 4 44Z" fill="#CDE5F4"></path>
                    </svg>
                </div>
            </div>    
            <div class="slds-grid slds-wrap slds-grid_align-center slds-p-around_small">
                <div class="slds-size_full">
                    <div class="slds-col slds-size_1-of-1">
                        <div>
                            <p class="page-subtitle" style="padding:0px;">We have sent you an email with a link to reset your password.</p>
                            <p class="page-subtitle" style="padding: 15px 10px 10px 10px;">Please check your email.</p>
                        </div>
                    </div>           
                    <div>     
                        <div class="slds-col slds-size_1-of-1">
                            <div>
                                <button style="width:100%; margin-top: 25px;" name="backFromConfirmation" type="button" class="slds-button slds-button_brand button-element" onclick={doBack}>
                                    BACK TO LOGIN
                                </button>
                            </div>
                        </div>   
                    </div>
                </div>
            </div>
        </div>
    </template>
    <!--  END   -->
    <!-- FORGOT PASSWORD PAGE   -->
    <template if:false={isConfirmation}>
        <!--  ERROR POPUP MODAL   -->
        <template if:true={showModal}>
            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_large" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1">
                <div class="slds-modal__container">   
                    <div class="slds-modal__content slds-p-around_large slds-p-top_small" style="border-radius: 8px; box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1); margin:0 -5px 0 -5px;" id="modal-content-id-1">
                        <div class="slds-text-align_center">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11 6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V14C13 14.5523 12.5523 15 12 15C11.4477 15 11 14.5523 11 14V6Z" fill="#F85359"></path>
                                <path d="M11 18C11 17.4477 11.4477 17 12 17C12.5523 17 13 17.4477 13 18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18Z" fill="#F85359"></path>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" fill="#F85359"></path>
                            </svg>
                        </div>
                        <p class="page-subtitle" style="padding: 15px 0px 0px 0px;">{modalMsg}</p>
                        <div>
                            <button style="width:100%; margin-top: 25px;" type="button" class="slds-button slds-button_brand button-element slds-p-bottom_x-small" onclick={closeModal}>
                                TRY AGAIN
                            </button>
                        </div>
                    </div>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open" style="background-color: rgba(255, 255, 255, 0.8);"></div>
        </template>
        <!--  ERROR POPUP MODAL   -->
        <div class="slds-is-relative">
            <div class="container">    
                <!--  SPINNER   -->
                <template if:true={spinner}>
                    <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
                </template>
                <!--  SPINNER -->
                <!--  HEADER BUTTON -->
                <div class="slds-p-top_large">
                    <a href="javascript:history.back();">
                        <lightning-button-icon name="backFromForgotPwd" icon-name="utility:chevronleft" size="large" variant="bare" alternative-text="Back" title="Back"></lightning-button-icon>
                    </a>
                </div>   
                <!--  HEADER BUTTON --> 
                <div class="slds-grid slds-wrap slds-grid_align-center slds-p-around_small">
                    <div class="slds-size_full">
                        <div class="slds-col slds-size_1-of-1">
                            <div>
                                <p class="page-title">Forgot your password</p>
                                <p class="page-subtitle" style="padding: 15px 10px 10px 10px;">Enter your account email address.</p>
                            </div>
                        </div>
                        <div class="slds-col slds-size_1-of-1 slds-p-top_medium">                                   
                            <div>  
                                <div class="input-element" data-id="email input element"> 
                                    <label class="input-label" data-id="email input label">Email</label>
                                    <div class="input-container">
                                        <input  style={inputStyle}
                                                type="email"
                                                id="email" required
                                                name="email"
                                                data-id="email"
                                                aria-describedby="emailHelp" 
                                                onchange={onValueChanged}
                                                onfocus={onFocusEvent}
                                                onblur={onBlurEvent}/> 
                                    </div>
                                    <p class="input-message" data-id="email" style="color: #F85359; display:none;"></p>     
                                </div> 
                            </div>  
                        </div>                                     
                        <div>     
                            <div class="slds-col slds-size_1-of-1">
                                <div>
                                    <button style="width:100%; margin-top: 25px;" type="button" class="slds-button slds-button_brand button-element" onclick={doSubmit}>
                                        SUBMIT
                                    </button>
                                </div>
                            </div>   
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>
    <!--  END   -->
</template>
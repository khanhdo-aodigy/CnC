<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Clashed_Opportunity_Notification_CIT</fullName>
        <description>Clashed Opportunity Notification - CIT</description>
        <protected>false</protected>
        <recipients>
            <field>Clash_Email1__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>Clash_Email2__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>Clash_Email3__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>Clash_Email4__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>Clash_Email5__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <type>owner</type>
        </recipients>
        <recipients>
            <recipient>dave.wong@cyclecarriage.com.sg</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>gavin.ng@cyclecarriage.com.sg</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>hariharan.selvam@jcclgroup.com.prod</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>kevin.lee@cyclecarriage.com.sg</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Clash_Opportunity_Notification</template>
    </alerts>
    <alerts>
        <fullName>Clashed_Opportunity_Notification_MIT</fullName>
        <description>Clashed Opportunity Notification - MIT</description>
        <protected>false</protected>
        <recipients>
            <recipient>jonathan.lok@cyclecarriage.com.sg</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>sebastian.sim@cyclecarriage.com.sg</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>serene.tan@cyclecarriage.com.sg</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>shaokai.ng@cyclecarriage.com.sg</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Clash_Opportunity_Notification</template>
    </alerts>
    <alerts>
        <fullName>Clashed_Opportunity_Notification_kia</fullName>
        <description>Clashed Opportunity Notification - KIA</description>
        <protected>false</protected>
        <recipients>
            <field>Clash_Email1__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>Clash_Email2__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>Clash_Email3__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>Clash_Email4__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>Clash_Email5__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <type>owner</type>
        </recipients>
        <recipients>
            <recipient>bryan.heng@cyclecarriage.com.sg</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>hariharan.selvam@jcclgroup.com.prod</recipient>
            <type>user</type>
        </recipients>
        <recipients>
            <recipient>kevin.lee@cyclecarriage.com.sg</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Clash_Opportunity_Notification</template>
    </alerts>
    <alerts>
        <fullName>Task_Notification</fullName>
        <description>Task Notification</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/LeadsNewassignmentnotificationSAMPLE</template>
    </alerts>
    <fieldUpdates>
        <fullName>DefaultQuantity</fullName>
        <description>To set the quantity yo 1</description>
        <field>TotalOpportunityQuantity</field>
        <formula>1</formula>
        <name>DefaultQuantity</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Opportunity_Name</fullName>
        <field>Name</field>
        <formula>Opportunity_Auto_Name__c</formula>
        <name>Update Opportunity Name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Opportunity_Owner</fullName>
        <field>OwnerId</field>
        <lookupValue>juliana.lim@cyclecarriage.com.sg</lookupValue>
        <lookupValueType>User</lookupValueType>
        <name>Update Opportunity Owner</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>LookupValue</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Clash Opportunity Notification - CIT</fullName>
        <actions>
            <name>Clashed_Opportunity_Notification_CIT</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <formula>AND( AND( Clash_Opportunity__c, ISPICKVAL( Branch_Code__c , &quot;CCF&quot;)), OR( ISCHANGED( StageName ), ISNEW()) ) &amp;&amp; NOT($Setup.Bypass_Automation_Settings__c.Bypass_Workflows__c )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Clash Opportunity Notification - KIA</fullName>
        <actions>
            <name>Clashed_Opportunity_Notification_kia</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <formula>AND( AND( Clash_Opportunity__c, ISPICKVAL( Branch_Code__c , &quot;CCK&quot;)), OR(  ISCHANGED( StageName ),  ISNEW())  ) &amp;&amp; NOT($Setup.Bypass_Automation_Settings__c.Bypass_Workflows__c )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Clash Opportunity Notification - MIT</fullName>
        <actions>
            <name>Clashed_Opportunity_Notification_MIT</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <formula>AND( AND( Clash_Opportunity__c, ISPICKVAL( Branch_Code__c , &quot;CCA&quot;)), OR(  ISCHANGED( StageName ),  ISNEW())  ) &amp;&amp; NOT( $Setup.Bypass_Automation_Settings__c.Bypass_Workflows__c )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>DefaultQuantity</fullName>
        <actions>
            <name>DefaultQuantity</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>To set default quantity</description>
        <formula>ISPICKVAL(Franchise_Code__c, &apos;CITCV,CITPC,KIACV,KIAPC&apos;)  &amp;&amp; NOT($Setup.Bypass_Automation_Settings__c.Bypass_Workflows__c )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Set Date Booked</fullName>
        <active>false</active>
        <criteriaItems>
            <field>Opportunity.StageName</field>
            <operation>equals</operation>
            <value>Booked</value>
        </criteriaItems>
        <description>Set Date When Opportunity Status is changed to Booked</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Update Opportunity Name</fullName>
        <actions>
            <name>Update_Opportunity_Name</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Opportunity.Opportunity_Auto_Name__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update Opportunity Owner</fullName>
        <actions>
            <name>Update_Opportunity_Owner</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Opportunity.LeadSource</field>
            <operation>equals</operation>
            <value>TestDrive</value>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
</Workflow>

<template>
  <template if:true={spinner}>
    <div class="backgroundInverse">
      <lightning-spinner alternative-text="Loading" variant="inverse"></lightning-spinner>
    </div>
  </template>
  <template if:false={spinner}>
    <article class="slds-card">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
              <div class="slds-media__figure">
                <span class="slds-icon_container">
                    <lightning-icon icon-name="standard:file" size="medium" variant="slds-icon-inverse"></lightning-icon>
                </span>
              </div>
              <div class="slds-media__body">
                <h2 class="slds-card__header-title">
                  <a href="#" class="slds-card__header-link slds-truncate" title="COE Bid Upload">
                    <span>COE Bidding Upload</span>
                  </a>
                </h2>
              </div>
            </header>
        </div>
      
        <div class="slds-col" style="padding-left: 10px;">
          <div class="slds-grid slds-wrap">
              <div class="slds-col slds-size_1-of-3 slds-var-p-around_xx-small">
                  <lightning-combobox data-id="coe-franchise"
                                      name="franchise"
                                      options={franchiseOptions}
                                      label="Franchise"
                                      onchange={handleInputChanged}
                                      required></lightning-combobox>
              </div>
          </div>
          <div class="slds-grid slds-wrap">
              <div class="slds-col slds-size_1-of-1 slds-var-p-around_xx-small">
                  <lightning-file-upload data-id="coe-upload"
                                         accept={acceptedFormats}
                                         label="Upload COE Bidding File" 
                                         multiple="false"
                                         record-id={userId}
                                         onuploadfinished={handleUploadFinished}
                                         disabled={disabledUploadInput}></lightning-file-upload>
              </div>
          </div>
        </div>
    </article>
  </template>
</template>
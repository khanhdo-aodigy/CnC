<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 12-28-2021
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>

    <template if:true={spinner}>
        <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
    </template>
    <c-ccl_form-header></c-ccl_form-header>
    <div class="body">
        <!--  Term and Condition Popup Modal  -->
        <template if:true={showTermAndCondition}>
            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                  <div class="slds-modal__content slds-p-around_large" style="padding: 30px;">
                    <br/>
                    <br/>
                    <p style="padding-bottom:15px;">
                        I wish to receive information about promotions, events and products and services,
                        and marketing-related customer surveys ("marketing and promotional information") from JCCL. I consent to the collection,
                        use and disclosure of my personal data for such marketing purposes by JCCL and its agents. 
                    </p>
                    <p style="padding-bottom:15px;">
                        I understand that notwithstanding the above, marketing and promotional information may be sent to me by push and/or pop-up notifications through JCCL's mobile application(s) should I install the application(s) on my mobile device. I agree that by enabling push and/or pop-up notifications in my device or mobile application settings, I consent to receiving such marketing and promotional information.
                    </p>
                    <p style="padding-bottom:15px;">
                        My consent above is voluntarily given and I am aware that I may withdraw my consent at any time by sending a notification to Cycle &amp; Carriage Customer Assistance at <a style="word-break: break-word;" href="mailto:CustomerAssistanceCentre@cyclecarriage.com.sg">CustomerAssistanceCentre@cyclecarriage.com.sg</a>, and/or to JCCL through the channels stated in JCCL's Privacy Statement. I have read and understood the Privacy Statement and been acquainted with my right to access my personal data. I have checked and do confirm that personal data I have provided is true, complete and accurate.
                    </p>
                    <div style="float:right; margin: 5px">
                        <button class="get-started-btn" type="button"
                            onclick={closeModal} style="border: none;width: 100%;">
                            Close
                        </button>
                    </div>
                </div>
                </div>
              </section>
              <div class="slds-backdrop slds-backdrop_open"></div>
              </template>
        <!--  Term and Condition Popup Modal  -->

        <template if:true={showRegisterPage}>
            <div class="vertical-center relative-position">
                <div class="signup-container">
                    <div class="row">

                        <div class="col-lg-12 col-md-12">                           
                            <div class="tabs">

                                <div class="tab-button-outer">
                                    <ul id="tab-button" class="tab-button">
                                        <li data-id="person" class="is-active person" onclick={switchTab}>
                                            <a>Personal Account</a>
                                        </li>
                                        <li data-id="corporate" class="corporate" onclick={switchTab}>
                                            <a>Corporate Account</a>
                                        </li>
                                    </ul>
                                </div>

                                <template if:false={isCorporate}>
                                    <div class="tab-contents" data-id="tab01">

                                        <div class="row">
                                            <div class="col-md-12" style="padding: 10px 30px;">
                                                <form action="" class="" method="post">
                                                    <div class="login-form-container">
                                                        <h4>Sign Up</h4>
                                                    </div>
                                                    <br>
                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <label for="salutation">Salutation</label>
                                                                <select class="form-control cus-info-select"
                                                                    name="salutation" data-id="salutation"
                                                                    onchange={onValueChanged}>
                                                                    <option>Please select</option>
                                                                    <template for:each={salutations.data}
                                                                        for:item="salu">
                                                                        <option key={salu.value}> {salu.label}</option>
                                                                    </template>
                                                                </select>
                                                                <p class="text-danger" data-id="salutation"
                                                                    style="display:none;"></p>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <label for="firstname">First Name (as per NRIC)</label>
                                                                <br>
                                                                <input class="cus-info-text" type="text"
                                                                    name="firstname" data-id="firstname"
                                                                    placeholder="Enter your first name" required
                                                                    onchange={onValueChanged} 
                                                                    onblur={validateFirstName}/>
                                                                <p class="text-danger" data-id="firstname"
                                                                    style="display:none;"></p>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <label for="lastname">Last Name (as per NRIC)</label>
                                                                <br>
                                                                <input class="cus-info-text" type="text" name="lastname"
                                                                    data-id="lastname"
                                                                    placeholder="Enter your last name" required
                                                                    onchange={onValueChanged} 
                                                                    onblur={validateLastName}/>
                                                                <p class="text-danger" data-id="lastname"
                                                                    style="display:none;"></p>
                                                            </div>
                                                        </div>

                                                    </div>

                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <label for="email">Email</label>
                                                                <br>
                                                                <input class="cus-info-text" type="email" name="email"
                                                                    placeholder="Enter your email" required
                                                                    data-id="email" onchange={onValueChanged}
                                                                    onblur={validateEmail} />
                                                                <p class="text-danger" data-id="email"
                                                                    style="display:none;"></p>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label for="mobile">Mobile</label>
                                                                <lightning-helptext style="left: 3.8rem;"
                                                                    content={mobileHelpText}
                                                                    icon-name="utility:info" class="helptext">
                                                                </lightning-helptext>
                                                                <br>
                                                                <input class="cus-info-text" type="tel" name="mobile"
                                                                    placeholder="Enter your mobile" required=""
                                                                    data-id="mobile" onchange={onValueChanged}
                                                                    onblur={validateMobile}
                                                                    maxlength="20"/>
                                                                <p class="text-danger" data-id="mobile"
                                                                    style="display:none;"></p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <label for="password">Password</label>
                                                                <lightning-helptext style="left: 4.8rem;"
                                                                    content={passwordHelpText}
                                                                    icon-name="utility:info" class="helptext">
                                                                </lightning-helptext>
                                                                <br>
                                                                <table>
                                                                <tr> 
                                                                    <td>
                                                                    <input class="cus-info-text" type="password"
                                                                        name="password" placeholder="Enter your password"
                                                                        required="" data-id="password"
                                                                        onchange={onValueChanged}
                                                                        onblur={validatePassword} />
                                                                    </td>
                                                                    <td>
                                                                        <lightning-button-icon  class="slds-button slds-input__icon slds-text-color--default field-icon" 
                                                                            icon-name={showPwdIcon} 
                                                                            variant = "bare" icon-class="slds-icon-text-default"
                                                                            onclick={togglePassword}>
                                                                        </lightning-button-icon>    
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                                <p class="text-danger" data-id="password"
                                                                    style="display:none;"></p>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label for="confirmPassword">Re-enter Password</label>
                                                                <br>
                                                                <table>
                                                                    <tr> 
                                                                        <td>
                                                                        <input class="cus-info-text" type="password"
                                                                            name="confirmPassword" data-id="confirm-password"
                                                                            placeholder="Re-enter your password" required
                                                                            onchange={onValueChanged}
                                                                            onblur={checkPwdMatching} />
                                                                        </td>
                                                                        <td>
                                                                            <lightning-button-icon  class="slds-button slds-input__icon slds-text-color--default field-icon" 
                                                                                icon-name={showConfirmPwdIcon} 
                                                                                variant = "bare" icon-class="slds-icon-text-default"
                                                                                onclick={toggleConfirmPassword}>
                                                                            </lightning-button-icon>    
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                                <p class="text-danger" data-id="confirm-password"
                                                                    style="display:none;"></p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="padding:10px 0;">
                                                        <label class="chk-container"> I have read, understood and consent to myCarriage
                                                            <a href={termsAndConditionsURL} target="_blank"> Terms &amp; Conditions</a>
                                                            , and to the collection, use and disclosure of my personal data by Jardine Cycle &amp; Carriage Limited and its subsidiaries and affiliates ("JCCL") in accordance with the
                                                            terms of JCCL's <a href={privacyStatementURL} target="_blank"> Privacy Statement </a>.
                                                            <input type="checkbox" name="individualAgree"
                                                                data-id="individual-agree" onchange={onValueChanged}>
                                                            <span class="checkmark"></span> </label>
                                                        <label class="chk-container"> I wish to receive information about promotions, events and products and services,
                                                             and marketing-related customer surveys ("marketing and promotional information") from JCCL. I consent to the collection,
                                                             use and disclosure of my personal data for such marketing purposes by JCCL and its agents. <a  href="javascript:;" onclick={openTerm}> Read more </a>
                                                            <input type="checkbox" name="individualPDPA"
                                                                data-id="individual-pdpa" onchange={onValueChanged}>
                                                            <span class="checkmark"></span> </label>
                                                    </div>
                                                    <p class="text-danger" data-id="page-error" style="display:none;">
                                                    </p>
                                                    <div class="form-group">
                                                        <button class="get-started-btn" type="button" name="signupBtn"
                                                            onclick={handleRegister} style="border: none;width: 100%;">
                                                            Sign Up
                                                        </button>
                                                    </div>
                                                </form>
                                                <div style="text-align:center;">
                                                    <span> Already a member or have an existing myC&amp;C/myMB account?&nbsp;<a
                                                            href="javascript:void(0);" onclick={returnToLogin}> Sign
                                                            In
                                                        </a> &nbsp;now!</span>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </template>
                                <template if:true={isCorporate}>
                                    <div id="tab02" class="tab-contents">
                                        <div class="row">
                                            <div class="col-md-12" style="padding: 10px 30px;">
                                                <form action="" class="" method="post">
                                                    <div class="login-form-container">
                                                        <h4>Sign Up</h4>
                                                    </div>
                                                    <br>
                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <label for="companyName">Company Name</label>
                                                                <br>
                                                                <input class="cus-info-text" type="text"
                                                                    name="companyName" data-id="company-name"
                                                                    placeholder="Enter company name" required
                                                                    onchange={onValueChanged}
                                                                    maxlength="80"/>
                                                                <p class="text-danger" data-id="company-name"
                                                                    style="display:none;"></p>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label for="companyReg">Company Reg No.</label>
                                                                <lightning-helptext style="left: 7.8rem;"
                                                                    content={uenHelpText}
                                                                    icon-name="utility:info" class="helptext">
                                                                </lightning-helptext>
                                                                <br>
                                                                <input class="cus-info-text" type="text"
                                                                    name="companyReg" data-id="company-reg"
                                                                    placeholder="Enter company reg no." required
                                                                    onchange={onValueChanged}
                                                                    onblur={validateUEN}
                                                                    maxlength="100"/>
                                                                <p class="text-danger" data-id="company-reg"
                                                                    style="display:none;"></p>
                                                            </div>


                                                        </div>
                                                    </div>
                                                    <div class="subtitle">
                                                        Contact Person
                                                    </div>
                                                    <br>
                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <label for="salutation">Salutation</label>
                                                                <select class="form-control cus-info-select"
                                                                    name="conSalutation" data-id="salutation"
                                                                    onchange={onValueChanged}>
                                                                    <option>Please select</option>
                                                                    <template for:each={salutations.data}
                                                                        for:item="salu">
                                                                        <option key={salu.value}> {salu.label}</option>
                                                                    </template>
                                                                </select>
                                                                <p class="text-danger" data-id="salutation"
                                                                    style="display:none;"></p>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <label for="firstname">First Name (as per NRIC)</label>
                                                                <br>
                                                                <input class="cus-info-text" type="text"
                                                                    name="conFirstname" data-id="firstname"
                                                                    placeholder="Enter your first name" required
                                                                    onchange={onValueChanged} 
                                                                    onblur={validateFirstName}/>
                                                                <p class="text-danger" data-id="firstname"
                                                                    style="display:none;"></p>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <label for="lastname">Last Name (as per NRIC)</label>
                                                                <br>
                                                                <input class="cus-info-text" type="text" name="conLastname"
                                                                    data-id="lastname"
                                                                    placeholder="Enter your last name" required
                                                                    onchange={onValueChanged}
                                                                    onblur={validateLastName}/>
                                                                <p class="text-danger" data-id="lastname"
                                                                    style="display:none;"></p>
                                                            </div>
                                                        </div>

                                                    </div>

                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <label for="contactDesignation">Designation</label>
                                                                <br>
                                                                <input class="cus-info-text" type="text"
                                                                    name="contactDesignation" data-id="contact-designation"
                                                                    placeholder="Enter your designation" required=""
                                                                    onchange={onValueChanged} onblur={onValueChanged} maxlength="80"/>
                                                                <p data-id="contact-designation" style="display:none;"></p>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <label for="contactEmail">Email</label>
                                                                <br>
                                                                <input class="cus-info-text" type="email"
                                                                    name="contactEmail" data-id="email"
                                                                    placeholder="Enter your email" required=""
                                                                    onchange={onValueChanged} onblur={validateEmail} />
                                                                <p data-id="email" style="display:none;"></p>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <label for="contactMobile">Mobile</label>
                                                                <lightning-helptext style="left: 3.8rem;"
                                                                    content={mobileHelpText}
                                                                    icon-name="utility:info" class="helptext">
                                                                </lightning-helptext>
                                                                <br>
                                                                <input class="cus-info-text" type="tel"
                                                                    name="contactMobile" placeholder="Enter your mobile"
                                                                    required="" data-id="mobile"
                                                                    onchange={onValueChanged} onblur={validateMobile} 
                                                                    maxlength="20" />
                                                                <p class="text-danger" data-id="mobile"
                                                                    style="display:none;"></p>
                                                            </div>

                                                        </div>

                                                    </div>

                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <label for="password">Password</label>
                                                                <lightning-helptext style="left: 4.8rem;"
                                                                    content={passwordHelpText}
                                                                    icon-name="utility:info" class="helptext">
                                                                </lightning-helptext>
                                                                <br>
                                                                <table>
                                                                    <tr> 
                                                                        <td>
                                                                        <input class="cus-info-text" type="password"
                                                                            name="contactPwd" placeholder="Enter your password"
                                                                            required="" data-id="password"
                                                                            onchange={onValueChanged}
                                                                            onblur={validatePassword} />
                                                                        </td>
                                                                        <td>
                                                                            <lightning-button-icon  class="slds-button slds-input__icon slds-text-color--default field-icon" 
                                                                                icon-name={showPwdIcon} 
                                                                                variant = "bare" icon-class="slds-icon-text-default"
                                                                                onclick={togglePassword}>
                                                                            </lightning-button-icon>    
                                                                        </td>
                                                                    </tr>
                                                                </table> 
                                                                <p class="text-danger" data-id="password"
                                                                    style="display:none;"></p>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label for="contactConfirmPwd">Re-enter Password</label>
                                                                <br>
                                                                <table>
                                                                    <tr> 
                                                                        <td>
                                                                        <input class="cus-info-text" type="password"
                                                                            name="contactConfirmPwd" data-id="confirm-password"
                                                                            placeholder="Re-enter your password" required
                                                                            onchange={onValueChanged}
                                                                            onblur={checkPwdMatching} />
                                                                        </td>
                                                                        <td>
                                                                            <lightning-button-icon  class="slds-button slds-input__icon slds-text-color--default field-icon" 
                                                                                icon-name={showConfirmPwdIcon} 
                                                                                variant = "bare" icon-class="slds-icon-text-default"
                                                                                onclick={toggleConfirmPassword}>
                                                                            </lightning-button-icon>    
                                                                        </td>
                                                                    </tr>
                                                                </table>

                                                                <p class="text-danger" data-id="confirm-password"
                                                                    style="display:none;"></p>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group" style="padding:10px 0;">
                                                        <label class="chk-container"> I have read, understood and consent to myCarriage 
                                                            <a href={termsAndConditionsURL} target="_blank"> Terms &amp; Conditions</a>
                                                            , and to the collection, use and disclosure of my personal data by Jardine Cycle &amp; Carriage Limited and its subsidiaries and affiliates ("JCCL") in accordance with the
                                                            terms of JCCL's <a href={privacyStatementURL} target="_blank"> Privacy Statement </a>.
                                                             <input type="checkbox" name="corporateAgree"
                                                                data-id="corporateAgree" onchange={onValueChanged}>
                                                            <span class="checkmark"></span> </label>
                                                        <label class="chk-container"> I wish to receive information about promotions, events and products and services,
                                                             and marketing-related customer surveys ("marketing and promotional information") from JCCL. I consent to the collection,
                                                             use and disclosure of my personal data for such marketing purposes by JCCL and its agents. <a  href="javascript:;" onclick={openTerm}> Read more  </a>
                                                             <input type="checkbox" onchange={onValueChanged}
                                                             name="contactPDPA" data-id="contactPDPA">
                                                            <span class="checkmark"></span> </label>
                                                    </div>
                                                    <p class="text-danger" data-id="page-error" style="display:none;">
                                                    </p>
                                                    <div class="form-group">
                                                        <button class="get-started-btn" type="button" name="signupBtn"
                                                            onclick={handleRegister} style="border: none;width: 100%;">
                                                            Sign Up
                                                        </button>
                                                    </div>
                                                </form>
                                                <div style="text-align:center;">
                                                    <span>Already a member or have an existing myC&amp;C/myMB account? &nbsp;<a
                                                            href="javascript:void(0);" onclick={returnToLogin}> Sign
                                                            In
                                                        </a> &nbsp;now!</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </template>

                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </template>
        <template if:true={showVerificationPage}>
            <div class="vertical-center relative-position">
                <div class="login-container">
                    <div class="row">
                        <div class="col-md-12">
                            <form>
                                <div class="login-form-container">
                                    <h4>Verify Your Identity</h4>
                                </div>
                                <br>
                                <p>To verify your new account, enter the verification code we sent to </p>
                                <template if:false={isCorporate}>
                                    <b>{registrationDetails.email}</b>
                                </template>
                                <template if:true={isCorporate}>
                                    <b>{registrationDetails.contactEmail}</b>
                                </template>
                                <br>
                                <div class="form-group">
                                    <table width="100%" class="forgot-pwd">
                                        <tr>
                                            <td>
                                                <label for="verificationCode">Verification Code</label><br>
                                                <input type="text" class="cus-info-text" data-id="verification-code"
                                                    name="verificationCode" placeholder="Enter your verification code"
                                                    onchange={onValueChanged} required
                                                    maxlength="6" />
                                            </td>
                                        </tr>
                                    </table>
                                    <p class="text-danger" data-id="verification-code" style="display:none;"></p>
                                </div>

                                <div class="form-group">
                                    <button class="get-started-btn " type="button" title="Cancel"
                                        onclick={returnToLogin}
                                        style="border: 1px solid #d2a269;width:48%; float:left; background-color:#FFF; color:#d2a269">
                                        Cancel</button>
                                    <button class="get-started-btn" type="button" title="Verify" onclick={verify}
                                        style="border: 1px solid #d2a269;width: 48%; float:right"> Verify
                                    </button>
                                </div>
                                <div class="form-group resend-code" style="float:left; margin-top: 16px;">
                                    <a onclick={resendCode}> Resend Code</a>
                                    <p class="text-success" data-id="resend-code" style="display:none;">Another email
                                        with the code has been sent to your email.</p>
                                </div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </template>

        <template if:true={showSuccessPage}>
            <div class="vertical-center relative-position">
                <div class="forgot-pwd-container " style="display: table;">
                    <div class="row" style="display: table-cell; vertical-align: middle; text-align: center;">
                        <div class="col-md-12">
                            <form action="signin.html" class="" method="post">
                                <div class="login-form-container" style="padding-bottom:20px;">

                                    <lightning-icon class="success-icon" icon-name="action:approval" alternative-text="Success"
                                        title="Success">
                                    </lightning-icon>

                                    <h4>Your account has been created successfully.</h4>
                                </div>

                                <div class="form-group">
                                    <label for=""> </label>
                                    <button class="get-started-btn" type="button" onclick={returnToHomePage}
                                        style="border: none;width: 100%;">
                                        Continue To Booking
                                    </button>
                                </div>

                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </template>
    </div>
    <c-ccl_form-footer></c-ccl_form-footer>
</template>